!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["node-brocade"]=t():e["node-brocade"]=t()}(self,(()=>(()=>{var e={10:(e,t,r)=>{e.exports=r(917)},917:(e,t,r)=>{const o=r(203),n=r(439),s=r(954),i="https://www.brocade.io";e.exports={item:function(e){return new Promise(((t,r)=>e?n(`${i}/api/items/${e}?version=1`).then(t).catch(r):r(new TypeError("No GTIN or EAN specified"))))},list:function(){return new Promise(((e,t)=>n(`${i}/api/items/?version=1`).then(e).catch(t)))},page:function(e){return new Promise(((t,r)=>e?n(`${i}/api/items/?page=${e}&version=1`).then(t).catch(r):r(new TypeError("No page specified"))))},query:function(e){return new Promise(((t,r)=>{if(!e)return r(new TypeError("No query specified"));const o=s({query:e,version:"1"});return n(`${i}/api/items/?${o}`).then(t).catch(r)}))},image:function(e,t){return new Promise(((r,s)=>e?o.existsSync(t)?n(`${i}/api/items/${e}/images/?version=1`,{method:"POST",headers:{"Content-Type":"multipart/form-data"},body:o.createReadStream(t)}).then(r).catch(s):s(new TypeError("The image does not exist!")):s(new TypeError("No GTIN or EAN specified"))))}}},636:e=>{class t extends Error{constructor(...e){super(...e),Error.captureStackTrace(this,t)}}e.exports={NotFoundError:t}},954:e=>{e.exports=e=>Object.keys(e).map((t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`)).join("&")},439:(e,t,r)=>{const o=r(204),n=r(636);e.exports=(e,t)=>new Promise(((r,s)=>{if(!e)return s(new TypeError("No URL specified!"));o(e,t).then((e=>{if(!e.ok)switch(e.status){case 400:return s(new TypeError("Failed to retrieve item"));case 404:return s(new n.NotFoundError("Item could not be found"));default:return s(new Error(`Failed to load page, status code: ${e.status}`))}return e.json()})).then(r).catch(s)}))},204:(e,t,r)=>{e.exports=self.fetch||(self.fetch=r(869).default||r(869))},869:(e,t,r)=>{"use strict";function o(e,t){return t=t||{},new Promise((function(r,o){var n=new XMLHttpRequest,s=[],i=[],u={},a=function(){return{ok:2==(n.status/100|0),statusText:n.statusText,status:n.status,url:n.responseURL,text:function(){return Promise.resolve(n.responseText)},json:function(){return Promise.resolve(n.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([n.response]))},clone:a,headers:{keys:function(){return s},entries:function(){return i},get:function(e){return u[e.toLowerCase()]},has:function(e){return e.toLowerCase()in u}}}};for(var c in n.open(t.method||"get",e,!0),n.onload=function(){n.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,r){s.push(t=t.toLowerCase()),i.push([t,r]),u[t]=u[t]?u[t]+","+r:r})),r(a())},n.onerror=o,n.withCredentials="include"==t.credentials,t.headers)n.setRequestHeader(c,t.headers[c]);n.send(t.body||null)}))}r.r(t),r.d(t,{default:()=>o})},203:()=>{}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var s=t[o]={exports:{}};return e[o](s,s.exports,r),s.exports}return r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r(10)})()));